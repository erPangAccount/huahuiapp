(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/product/product"],{56:
/*!*********************************************************************!*\
  !*** D:/web/huahuiapp/main.js?{"page":"pages%2Fproduct%2Fproduct"} ***!
  \*********************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s(/*! uni-pages */4);var a=n(s(/*! mpvue-page-factory */17)),i=n(s(/*! ./pages/product/product.vue */57));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},57:
/*!**************************************************!*\
  !*** D:/web/huahuiapp/pages/product/product.vue ***!
  \**************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var a=s(/*! ./product.vue?vue&type=template&id=53540935& */58),i=s(/*! ./product.vue?vue&type=script&lang=js& */60);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s(/*! ./product.vue?vue&type=style&index=0&lang=scss& */62);var c=s(/*! ../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */12),o=Object(c.default)(i.default,a.render,a.staticRenderFns,!1,null,null,null);o.options.__file="web/huahuiapp/pages/product/product.vue",e.default=o.exports},58:
/*!*********************************************************************************!*\
  !*** D:/web/huahuiapp/pages/product/product.vue?vue&type=template&id=53540935& ***!
  \*********************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,s){"use strict";s.r(e);var a=s(/*! -!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!./product.vue?vue&type=template&id=53540935& */59);s.d(e,"render",function(){return a.render}),s.d(e,"staticRenderFns",function(){return a.staticRenderFns})},59:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!D:/web/huahuiapp/pages/product/product.vue?vue&type=template&id=53540935& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,s){"use strict";s.r(e),s.d(e,"render",function(){return a}),s.d(e,"staticRenderFns",function(){return i});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[t.isloading?s("view",{staticClass:"container"},[s("view",{staticClass:"carousel"},[s("swiper",{attrs:{"indicator-dots":"",circular:"true",duration:"400"}},t._l(t.productInfo.imgList,function(t,e){return s("swiper-item",{key:e,staticClass:"swiper-item",attrs:{mpcomid:"613dd3f9-0-"+e}},[s("view",{staticClass:"image-wrapper"},[s("image",{staticClass:"loaded",attrs:{src:t,mode:"aspectFill"}})])])}))],1),s("view",{staticClass:"introduce-section"},[s("text",{staticClass:"title"},[t._v(t._s(t.productInfo.name))]),s("view",{staticClass:"price-box"},[s("text",{staticClass:"price-tip"},[t._v("¥")]),s("text",{staticClass:"price"},[t._v(t._s(t.specSelected.sku_price))]),s("text",{staticClass:"m-price"},[t._v("¥"+t._s(t.productInfo.price))])]),s("view",{staticClass:"bot-row"},[s("text",[t._v("销量: "+t._s(t.productInfo.sold_count))]),s("text",[t._v("库存: "+t._s(t.specSelected.sku_stock))])])]),s("view",{staticClass:"c-list"},[s("view",{staticClass:"c-row b-b",attrs:{eventid:"613dd3f9-0"},on:{click:t.toggleSpec}},[s("text",{staticClass:"tit"},[t._v("购买类型")]),s("view",{staticClass:"con"},[s("text",{staticClass:"selected-text"},[t._v(t._s(t.specSelected.sku_name))])]),s("text",{staticClass:"yticon icon-you"})])]),t.productInfo.reviews?s("view",{staticClass:"eva-section"},[s("view",{staticClass:"e-header"},[s("text",{staticClass:"tit"},[t._v("评价")]),s("text",[t._v("("+t._s(t.productInfo.reviews.length)+")")])]),t._l(t.productInfo.reviews,function(e,a){return s("view",{key:e.id,staticClass:"eva-box"},[s("image",{staticClass:"portrait",attrs:{src:"../../static/missing-face.png",mode:"aspectFill"}}),s("view",{staticClass:"right"},[s("text",{staticClass:"name"},[t._v(t._s(e.order.customer.nick||e.order.customer.mobile))]),s("text",{staticClass:"con"},[t._v(t._s(e.review))]),s("view",{staticClass:"bot"},[s("text",{staticClass:"attr"},[t._v("购买类型："+t._s(e.commosity_sku.sku_name))]),s("text",{staticClass:"time"},[t._v(t._s(e.reviewed_at))])])])])})],2):t._e(),t.productInfo.description?s("view",{staticClass:"detail-desc"},[t._m(0),s("rich-text",{attrs:{nodes:t.productInfo.description,mpcomid:"613dd3f9-1"}})],1):t._e(),s("view",{staticClass:"page-bottom"},[s("navigator",{staticClass:"p-b-btn",attrs:{url:"/pages/index/index","open-type":"switchTab"}},[s("text",{staticClass:"yticon icon-xiatubiao--copy"}),s("text",[t._v("首页")])]),s("navigator",{staticClass:"p-b-btn",attrs:{url:"/pages/cart/cart","open-type":"switchTab"}},[s("text",{staticClass:"yticon icon-gouwuche"}),s("text",[t._v("购物车")])]),s("view",{staticClass:"action-btn-group"},[s("button",{staticClass:" action-btn no-border buy-now-btn",attrs:{type:"primary",eventid:"613dd3f9-1"},on:{click:function(e){t.navToSureOrder(t.specSelected.id)}}},[t._v("立即购买")]),s("button",{staticClass:" action-btn no-border add-cart-btn",attrs:{type:"primary",eventid:"613dd3f9-2"},on:{click:function(e){t.addToCart()}}},[t._v("加入购物车")])],1)],1),s("view",{staticClass:"popup spec",class:t.specClass,attrs:{eventid:"613dd3f9-6"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),t.stopPrevent(e)},click:t.toggleSpec}},[s("view",{staticClass:"mask"}),s("view",{staticClass:"layer attr-content",attrs:{eventid:"613dd3f9-5"},on:{click:function(e){e.stopPropagation(),t.stopPrevent(e)}}},[s("view",{staticClass:"a-t"},[s("image",{attrs:{src:t.specSelected.sku_image}}),s("view",{staticClass:"right"},[s("text",{staticClass:"price"},[t._v("¥"+t._s(t.specSelected.sku_price))]),s("text",{staticClass:"stock"},[t._v("库存："+t._s(t.specSelected.sku_stock)+"件")]),s("view",{staticClass:"selected"},[t._v("已选："),s("text",{staticClass:"selected-text"},[t._v(t._s(t.specSelected.sku_name))])])])]),s("view",{staticClass:"attr-list"},[s("view",{staticClass:"item-list"},t._l(t.productInfo.skus,function(e,a){return s("text",{key:a,staticClass:"tit",class:{selected:e.selected},attrs:{eventid:"613dd3f9-3-"+a},on:{click:function(e){t.selectSpec(a)}}},[t._v(t._s(e.sku_name))])}))]),s("button",{staticClass:"btn",attrs:{eventid:"613dd3f9-4"},on:{click:t.toggleSpec}},[t._v("完成")])],1)])]):s("empty",{attrs:{mpcomid:"613dd3f9-2"}})],1)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"d-header"},[e("text",[this._v("图文详情")])])}];a._withStripped=!0},60:
/*!***************************************************************************!*\
  !*** D:/web/huahuiapp/pages/product/product.vue?vue&type=script&lang=js& ***!
  \***************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var a=s(/*! -!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!./product.vue?vue&type=script&lang=js& */61),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=i.a},61:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!D:/web/huahuiapp/pages/product/product.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(s(/*! ./node_modules/@babel/runtime/regenerator */23)),i=s(/*! vuex */6),n=c(s(/*! @/components/empty.vue */70));function c(t){return t&&t.__esModule?t:{default:t}}function o(t,e,s,a,i,n,c){try{var o=t[n](c),r=o.value}catch(t){return void s(t)}o.done?e(r):Promise.resolve(r).then(a,i)}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),a.forEach(function(e){u(t,e,s[e])})}return t}function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={computed:r({},(0,i.mapState)(["hasLogin","userInfo"])),components:{empty:n.default},data:function(){return{specClass:"none",specSelected:{},productInfo:{},isloading:!1}},onLoad:function(){var t,e=(t=a.default.mark(function t(e){var s,i=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.id,t.next=3,this.getProductInfo(s,function(){i.$load.loadding("加载中……")},function(){i.$load.endLoadding()});case 3:case"end":return t.stop()}},t,this)}),function(){var e=this,s=arguments;return new Promise(function(a,i){var n=t.apply(e,s);function c(t){o(n,a,i,c,r,"next",t)}function r(t){o(n,a,i,c,r,"throw",t)}c(void 0)})});return function(t){return e.apply(this,arguments)}}(),methods:r({},(0,i.mapMutations)(["saveWantBuy"]),{toggleSpec:function(){var t=this;"show"===this.specClass?(this.specClass="hide",setTimeout(function(){t.specClass="none"},250)):"none"===this.specClass&&(this.specClass="show")},selectSpec:function(t){for(var e in this.specSelected=this.productInfo.skus[t],this.productInfo.skus)this.productInfo.skus[e].selected=!1;this.productInfo.skus[t].selected=!0},stopPrevent:function(){},navToSureOrder:function(e){this.hasLogin||this.navToLogin();var s=[{sku_id:e,number:1}];this.saveWantBuy(s),t.navigateTo({url:"/pages/sureorder/sureorder?wantBuy=1"})},navToLogin:function(){t.navigateTo({url:"/pages/public/login"})},formatProductInfo:function(t){var e={imgList:[]};for(var s in t)e[s]=t[s];for(var a in e.imgList.push(t.image),t.skus)e.imgList.push(t.skus[a].sku_image);return e},getProductInfo:function(e){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};a();var n=this.$ajax.getToken();t.request({method:"GET",url:this.$ajax.ajaxBaseUrl+"/api/commodities/"+e,dataType:"json",header:{"content-type":"application/json",Authorization:n.token_type+" "+n.access_token},success:function(t){0===t.data.status?(s.productInfo=s.formatProductInfo(t.data.data),s.selectSpec(0),s.isloading=!0):s.$api.msg(t.data.message),i()}})},addToCart:function(){var e=this;this.hasLogin||this.navToLogin(),this.$load.loadding("加入购物城中……");var s=this.$ajax.getToken();t.request({method:"POST",url:this.$ajax.ajaxBaseUrl+"/api/cart",dataType:"json",data:{commodity_sku_id:this.specSelected.id,number:1},header:{"content-type":"application/json",Authorization:s.token_type+" "+s.access_token},success:function(t){e.$load.endLoadding(),t.data.access_token?console.log(t):e.$api.msg(t.data.message)}})}})};e.default=d}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},62:
/*!************************************************************************************!*\
  !*** D:/web/huahuiapp/pages/product/product.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var a=s(/*! -!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--8-oneOf-1-2!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../HBuilderX.1.8.1.20190330.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!./product.vue?vue&type=style&index=0&lang=scss& */63),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=i.a},63:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!./node_modules/vue-loader/lib??vue-loader-options!D:/web/huahuiapp/pages/product/product.vue?vue&type=style&index=0&lang=scss& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){}},[[56,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/product/product.js.map